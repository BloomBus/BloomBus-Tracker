<!DOCTYPE html>
<html>
  <head>
    <title>JS Geolocation API Test</title>
  </head>
  <style>
    p {
      font-size: 2em;
    }
    .good {
      color: green;
    }
    .bad {
      color: red;
    }
  </style>
  <p id="coords"></p>
  <script>
    const coordsRef = document.getElementById('coords');

    function geo_success(position) {
      coordsRef.innerHTML = `${position.coords.latitude}, ${position.coords.longitude}`;
    }

    function geo_error() {
      alert("Sorry, no position available.");
    }

    var geo_options = {
      enableHighAccuracy: true, 
      maximumAge        : 30000,
      timeout           : 27000
    };    

    if ("geolocation" in navigator) {
      /* geolocation is available */
      document.write('<p class="good">geolocation available</p>');
      const wpid = navigator.geolocation.watchPosition(geo_success, geo_error, geo_options);
    } else {
      /* geolocation IS NOT available */
      document.writeln('<p class="bad">geolocation available</p>');
    }
  </script>
</html>